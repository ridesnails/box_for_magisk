# GitHub Actions é…ç½®ç¤ºä¾‹æ–‡ä»¶
# å¤åˆ¶æ­¤æ–‡ä»¶å¹¶æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®

# å…¨å±€ç¯å¢ƒå˜é‡
env:
  # GitHub Token (è‡ªåŠ¨æä¾›ï¼Œæ— éœ€ä¿®æ”¹)
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  
  # å¯é€‰ï¼šè‡ªå®šä¹‰é€šçŸ¥é…ç½®
  # SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
  # EMAIL_NOTIFICATION: ${{ secrets.EMAIL_NOTIFICATION }}

# å®šæ—¶ä»»åŠ¡é…ç½®
schedule_config:
  # sing-boxæ›´æ–°æ—¶é—´ (UTCæ—¶åŒº)
  singbox_update: "0 2,14 * * *"  # æ¯å¤©02:00å’Œ14:00
  
  # Zashboardæ›´æ–°æ—¶é—´ (UTCæ—¶åŒº)  
  zashboard_update: "0 4,16 * * *"  # æ¯å¤©04:00å’Œ16:00
  
  # é›†æˆæµ‹è¯•æ—¶é—´ (UTCæ—¶åŒº)
  integration_test: "0 3 * * *"     # æ¯å¤©03:00

# APIé™åˆ¶é…ç½®
api_limits:
  # GitHub APIæœ€å°å‰©ä½™è°ƒç”¨æ¬¡æ•°
  min_remaining: 10
  
  # é‡è¯•é…ç½®
  max_retries: 3
  retry_delay: 5  # ç§’

# ç‰ˆæœ¬ç®¡ç†é…ç½®
version_config:
  # è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ¼å¼
  version_format: "v{major}.{minor}.{patch}"
  
  # å¼€å‘ç‰ˆæœ¬æ ¼å¼
  dev_format: "v{version}-dev.{build}"
  
  # ç‰ˆæœ¬ä»£ç æ ¼å¼
  version_code_format: "%Y%m%d"

# æ„å»ºé…ç½®
build_config:
  # æ”¯æŒçš„æ¶æ„
  architectures:
    - amd64
    - arm64
    - armv7
  
  # æ’é™¤æ–‡ä»¶æ¨¡å¼
  exclude_patterns:
    - ".git/*"
    - ".github/*"
    - "docs/*"
    - "*.md"
    - "*.log"
    - "test_*.sh"
  
  # å‹ç¼©çº§åˆ«
  compression_level: 9

# é€šçŸ¥é…ç½®
notification_config:
  # æˆåŠŸé€šçŸ¥
  notify_success: true
  
  # å¤±è´¥é€šçŸ¥  
  notify_failure: true
  
  # é€šçŸ¥æ¸ é“
  channels:
    - github_issues    # GitHub Issues
    - github_discussions # GitHub Discussions
    # - slack          # Slack (éœ€è¦é…ç½®SLACK_WEBHOOK)
    # - email          # é‚®ä»¶ (éœ€è¦é…ç½®EMAIL_NOTIFICATION)

# å®‰å…¨é…ç½®
security_config:
  # æ–‡ä»¶å®Œæ•´æ€§éªŒè¯
  verify_checksums: true
  
  # ä¸‹è½½è¶…æ—¶ (ç§’)
  download_timeout: 300
  
  # æœ€å¤§æ–‡ä»¶å¤§å° (MB)
  max_file_size: 100

# ç¼“å­˜é…ç½®
cache_config:
  # Node.jsä¾èµ–ç¼“å­˜
  node_cache: true
  
  # æ„å»ºäº§ç‰©ç¼“å­˜
  build_cache: true
  
  # ç¼“å­˜è¿‡æœŸæ—¶é—´ (å¤©)
  cache_ttl: 7

# æµ‹è¯•é…ç½®
test_config:
  # ShellCheckæ’é™¤è§„åˆ™
  shellcheck_exclude:
    - SC2034  # æœªä½¿ç”¨å˜é‡
    - SC2086  # åŒå¼•å·é˜²æ­¢åˆ†è¯
    - SC2181  # æ£€æŸ¥é€€å‡ºç 
    - SC2155  # å£°æ˜å’Œèµ‹å€¼åˆ†ç¦»
  
  # JSONéªŒè¯å·¥å…·
  json_validator: "jq"
  
  # è„šæœ¬è¯­æ³•æ£€æŸ¥
  shell_syntax_check: true

# å‘å¸ƒé…ç½®
release_config:
  # è‡ªåŠ¨åˆ›å»ºå‘å¸ƒ
  auto_release: true
  
  # é¢„å‘å¸ƒæ ‡è®°
  prerelease_pattern: "*-dev.*"
  
  # å‘å¸ƒèµ„äº§
  assets:
    - "*.zip"
    - "*.sha256"
    - "*.md5"
  
  # å‘å¸ƒæ¨¡æ¿
  release_template: |
    ## ğŸ‰ sing-boxä¸“ç”¨Magiskæ¨¡å—
    
    ### ğŸ“¦ ç‰ˆæœ¬ä¿¡æ¯
    - ç‰ˆæœ¬: {version}
    - æ„å»ºæ—¶é—´: {build_time}
    - æ–‡ä»¶å¤§å°: {file_size}
    
    ### ğŸš€ ä¸»è¦ç‰¹æ€§
    - ä¸“ä¸ºsing-boxä¼˜åŒ–çš„Magiskæ¨¡å—
    - é›†æˆZashboard Webç®¡ç†ç•Œé¢
    - å¤šç§ç½‘ç»œæ¨¡å¼æ”¯æŒ
    - æ™ºèƒ½åˆ†æµå’Œè§„åˆ™ç®¡ç†
    
    ### ğŸ“¥ å®‰è£…æ–¹æ³•
    1. ä¸‹è½½æ¨¡å—æ–‡ä»¶
    2. åœ¨Magisk Managerä¸­å®‰è£…
    3. é‡å¯è®¾å¤‡
    4. é…ç½®å¹¶å¯åŠ¨æœåŠ¡

# ç›‘æ§é…ç½®
monitoring_config:
  # æ€§èƒ½ç›‘æ§
  performance_monitoring: true
  
  # èµ„æºä½¿ç”¨ç›‘æ§
  resource_monitoring: true
  
  # é”™è¯¯ç‡ç›‘æ§
  error_rate_monitoring: true
  
  # ç›‘æ§é˜ˆå€¼
  thresholds:
    build_time_max: 600     # æœ€å¤§æ„å»ºæ—¶é—´ (ç§’)
    file_size_max: 50       # æœ€å¤§æ–‡ä»¶å¤§å° (MB)
    error_rate_max: 0.05    # æœ€å¤§é”™è¯¯ç‡ (5%)

# å·¥ä½œæµä¼˜åŒ–é…ç½®
optimization_config:
  # å¹¶å‘æ‰§è¡Œ
  parallel_jobs: true
  
  # æ¡ä»¶æ‰§è¡Œ
  conditional_execution: true
  
  # èµ„æºå¤ç”¨
  resource_reuse: true
  
  # ç¼“å­˜ç­–ç•¥
  cache_strategy: "aggressive"

# ç»´æŠ¤é…ç½®
maintenance_config:
  # è‡ªåŠ¨æ¸…ç†æ—§ç‰ˆæœ¬
  auto_cleanup: true
  
  # ä¿ç•™ç‰ˆæœ¬æ•°é‡
  keep_releases: 10
  
  # æ¸…ç†é—´éš” (å¤©)
  cleanup_interval: 30
  
  # å¤‡ä»½ç­–ç•¥
  backup_strategy: "incremental"